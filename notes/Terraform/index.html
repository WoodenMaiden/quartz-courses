<!doctype html><html lang=en><head><meta charset=utf-8><meta name=description content="Outils/Compétences  Mots clés #terraform #devops #cloud #architecture
 Présentation Terraform est un outil d&rsquo;IAC (Infrastructure As Code), son but est de déclarer une architecture, de l&rsquo;instancier et de la détruire."><meta property="og:title" content="Introduction à Terraform"><meta property="og:description" content="Outils/Compétences  Mots clés #terraform #devops #cloud #architecture
 Présentation Terraform est un outil d&rsquo;IAC (Infrastructure As Code), son but est de déclarer une architecture, de l&rsquo;instancier et de la détruire."><meta property="og:type" content="website"><meta property="og:image" content="https://devops.yann-pomie.fr/icon.png"><meta property="og:url" content="https://devops.yann-pomie.fr/notes/Terraform/"><meta property="og:width" content="200"><meta property="og:height" content="200"><meta name=twitter:card content="summary"><meta name=twitter:title content="Introduction à Terraform"><meta name=twitter:description content="Outils/Compétences  Mots clés #terraform #devops #cloud #architecture
 Présentation Terraform est un outil d&rsquo;IAC (Infrastructure As Code), son but est de déclarer une architecture, de l&rsquo;instancier et de la détruire."><meta name=twitter:image content="https://devops.yann-pomie.fr/icon.png"><title>Introduction à Terraform</title><meta name=viewport content="width=device-width,initial-scale=1"><link rel="shortcut icon" type=image/png href=https://devops.yann-pomie.fr//icon.png><link href=https://devops.yann-pomie.fr/styles.19109a40042e9f0e72e952fda4442a34.min.css rel=stylesheet><link href=https://devops.yann-pomie.fr/styles/_light_syntax.86a48a52faebeaaf42158b72922b1c90.min.css rel=stylesheet id=theme-link><script src=https://devops.yann-pomie.fr/js/darkmode.b11394ab8eef14acaae7a1411b1a3481.min.js></script>
<script src=https://devops.yann-pomie.fr/js/util.00639692264b21bc3ee219733d38a8be.min.js></script>
<link rel=preload href=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css as=style onload='this.onload=null,this.rel="stylesheet"' integrity=sha384-R4558gYOUz8mP9YWpZJjofhk+zx0AS11p36HnD2ZKj/6JR5z27gSSULCNHIRReVs crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js integrity=sha384-z1fJDqw8ZApjGO3/unPWUPsIymfsJmyrDVWC8Tv/a1HeOtGmkwNd/7xUS0Xcnvsx crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/contrib/auto-render.min.js integrity=sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.2/dist/contrib/copy-tex.min.js integrity=sha384-ww/583aHhxWkz5DEVn6OKtNiIaLi2iBRNZXfJRiY1Ai7tnJ9UXpEsyvOITVpTl4A crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/@floating-ui/core@1.2.1></script>
<script src=https://cdn.jsdelivr.net/npm/@floating-ui/dom@1.2.1></script>
<script defer src=https://devops.yann-pomie.fr/js/popover.aa9bc99c7c38d3ae9538f218f1416adb.min.js></script>
<script defer src=https://devops.yann-pomie.fr/js/code-title.ce4a43f09239a9efb48fee342e8ef2df.min.js></script>
<script defer src=https://devops.yann-pomie.fr/js/clipboard.2913da76d3cb21c5deaa4bae7da38c9f.min.js></script>
<script defer src=https://devops.yann-pomie.fr/js/callouts.7723cac461d613d118ee8bb8216b9838.min.js></script>
<script>const SEARCH_ENABLED=!1,LATEX_ENABLED=!0,PRODUCTION=!0,BASE_URL="https://devops.yann-pomie.fr/",fetchData=Promise.all([fetch("https://devops.yann-pomie.fr/indices/linkIndex.6b3913ef4d19ca901d5ec7ff095101a0.min.json").then(e=>e.json()).then(e=>({index:e.index,links:e.links})),fetch("https://devops.yann-pomie.fr/indices/contentIndex.1934a38b9d3960d0312377166317c0d1.min.json").then(e=>e.json())]).then(([{index:e,links:t},n])=>({index:e,links:t,content:n})),render=()=>{const e=new URL(BASE_URL),t=e.pathname,n=window.location.pathname,s=t==n;addCopyButtons(),addTitleToCodeBlocks(),addCollapsibleCallouts(),initPopover("https://devops.yann-pomie.fr",!0);const o=document.getElementById("footer");if(o){const e=document.getElementById("graph-container");if(!e)return requestAnimationFrame(render);e.textContent="";const t=s&&!1;drawGraph("https://devops.yann-pomie.fr",t,[{"/moc":"#4388cc"}],t?{centerForce:1,depth:-1,enableDrag:!0,enableLegend:!1,enableZoom:!0,fontSize:.5,linkDistance:1,opacityScale:3,repelForce:1,scale:1.4}:{centerForce:1,depth:1,enableDrag:!0,enableLegend:!1,enableZoom:!0,fontSize:.6,linkDistance:1,opacityScale:3,repelForce:2,scale:1.2})}var i=document.getElementsByClassName("mermaid");i.length>0&&import("https://unpkg.com/mermaid@9/dist/mermaid.esm.min.mjs").then(e=>{e.default.init()});function a(n){const e=n.target,t=e.className.split(" "),s=t.includes("broken"),o=t.includes("internal-link");plausible("Link Click",{props:{href:e.href,broken:s,internal:o,graph:!1}})}const r=document.querySelectorAll("a");for(link of r)link.className.includes("root-title")&&link.addEventListener("click",a,{once:!0})},init=(e=document)=>{addCopyButtons(),addTitleToCodeBlocks(),renderMathInElement(e.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}],macros:{'’':"'"},throwOnError:!1})}</script><script type=module>
    import { attachSPARouting } from "https:\/\/devops.yann-pomie.fr\/js\/router.d6fe6bd821db9ea97f9aeefae814d8e7.min.js"
    attachSPARouting(init, render)
  </script><script defer data-domain=devops.yann-pomie.fr src=https://plausible.io/js/script.js></script>
<script>window.plausible=window.plausible||function(){(window.plausible.q=window.plausible.q||[]).push(arguments)}</script></head><body><div id=search-container><div id=search-space><input autocomplete=off id=search-bar name=search type=text aria-label=Search placeholder="Search for something..."><div id=results-container></div></div></div><script src=https://cdn.jsdelivr.net/npm/flexsearch@0.7.21/dist/flexsearch.bundle.js integrity="sha256-i3A0NZGkhsKjVMzFxv3ksk0DZh3aXqu0l49Bbh0MdjE=" crossorigin=anonymous defer></script>
<script defer src=https://devops.yann-pomie.fr/js/full-text-search.e6e2e0c213187ca0c703d6e2c7a77fcd.min.js></script><div class=singlePage><header><h1 id=page-title><a class=root-title href=https://devops.yann-pomie.fr/>Yann POMIE's DevOps courses</a></h1><div class=spacer></div><div id=search-icon><p>Search</p><svg tabindex="0" aria-labelledby="title desc" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19.9 19.7"><title id="title">Search Icon</title><desc id="desc">Icon to open search</desc><g class="search-path" fill="none"><path stroke-linecap="square" d="M18.5 18.3l-5.4-5.4"/><circle cx="8" cy="8" r="7"/></g></svg></div><div class=darkmode><input class=toggle id=darkmode-toggle type=checkbox tabindex=-1>
<label id=toggle-label-light for=darkmode-toggle tabindex=-1><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="dayIcon" viewBox="0 0 35 35" style="enable-background:new 0 0 35 35"><title>Light Mode</title><path d="M6 17.5C6 16.672 5.328 16 4.5 16h-3C.672 16 0 16.672.0 17.5S.672 19 1.5 19h3C5.328 19 6 18.328 6 17.5zM7.5 26c-.414.0-.789.168-1.061.439l-2 2C4.168 28.711 4 29.086 4 29.5 4 30.328 4.671 31 5.5 31c.414.0.789-.168 1.06-.44l2-2C8.832 28.289 9 27.914 9 27.5 9 26.672 8.329 26 7.5 26zm10-20C18.329 6 19 5.328 19 4.5v-3C19 .672 18.329.0 17.5.0S16 .672 16 1.5v3C16 5.328 16.671 6 17.5 6zm10 3c.414.0.789-.168 1.06-.439l2-2C30.832 6.289 31 5.914 31 5.5 31 4.672 30.329 4 29.5 4c-.414.0-.789.168-1.061.44l-2 2C26.168 6.711 26 7.086 26 7.5 26 8.328 26.671 9 27.5 9zM6.439 8.561C6.711 8.832 7.086 9 7.5 9 8.328 9 9 8.328 9 7.5c0-.414-.168-.789-.439-1.061l-2-2C6.289 4.168 5.914 4 5.5 4 4.672 4 4 4.672 4 5.5c0 .414.168.789.439 1.06l2 2.001zM33.5 16h-3c-.828.0-1.5.672-1.5 1.5s.672 1.5 1.5 1.5h3c.828.0 1.5-.672 1.5-1.5S34.328 16 33.5 16zM28.561 26.439C28.289 26.168 27.914 26 27.5 26c-.828.0-1.5.672-1.5 1.5.0.414.168.789.439 1.06l2 2C28.711 30.832 29.086 31 29.5 31c.828.0 1.5-.672 1.5-1.5.0-.414-.168-.789-.439-1.061l-2-2zM17.5 29c-.829.0-1.5.672-1.5 1.5v3c0 .828.671 1.5 1.5 1.5s1.5-.672 1.5-1.5v-3C19 29.672 18.329 29 17.5 29zm0-22C11.71 7 7 11.71 7 17.5S11.71 28 17.5 28 28 23.29 28 17.5 23.29 7 17.5 7zm0 18c-4.136.0-7.5-3.364-7.5-7.5s3.364-7.5 7.5-7.5 7.5 3.364 7.5 7.5S21.636 25 17.5 25z"/></svg></label><label id=toggle-label-dark for=darkmode-toggle tabindex=-1><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="nightIcon" viewBox="0 0 100 100" style="enable-background='new 0 0 100 100'"><title>Dark Mode</title><path d="M96.76 66.458c-.853-.852-2.15-1.064-3.23-.534-6.063 2.991-12.858 4.571-19.655 4.571C62.022 70.495 50.88 65.88 42.5 57.5 29.043 44.043 25.658 23.536 34.076 6.47c.532-1.08.318-2.379-.534-3.23-.851-.852-2.15-1.064-3.23-.534-4.918 2.427-9.375 5.619-13.246 9.491-9.447 9.447-14.65 22.008-14.65 35.369.0 13.36 5.203 25.921 14.65 35.368s22.008 14.65 35.368 14.65c13.361.0 25.921-5.203 35.369-14.65 3.872-3.871 7.064-8.328 9.491-13.246C97.826 68.608 97.611 67.309 96.76 66.458z"/></svg></label></div></header><article><h1>Introduction à Terraform</h1><p class=meta>Last updated
Aug 11, 2023
<a href=https://github.com/WoodenMaiden/quartz-courses/notes/Terraform.md rel=noopener>Edit Source</a></p><ul class=tags></ul><aside class=mainTOC><details><summary>Table of Contents</summary><nav id=TableOfContents><ol><li><a href=#outilscompétences>Outils/Compétences</a></li><li><a href=#mots-clés>Mots clés</a></li></ol><ol><li><a href=#pourquoi->Pourquoi ?</a></li><li><a href=#comment-fonctionne-terraform>Comment fonctionne Terraform?</a><ol><li><a href=#la-cli>La CLI</a></li><li><a href=#les-providers>Les providers</a></li><li><a href=#hcl>HCL</a></li><li><a href=#les-modules>Les modules</a></li><li><a href=#le-state>Le state</a></li></ol></li></ol><ol><li><a href=#préparer-le-tp>Préparer le TP</a></li></ol></nav></details></aside><a href=#outilscompétences><h2 id=outilscompétences><span class=hanchor arialabel=Anchor># </span>Outils/Compétences</h2></a><p><img src="https://img.shields.io/badge/terraform-%235835CC.svg?style=for-the-badge&logo=terraform&logoColor=white" width=auto alt=Terraform>
<img src="https://img.shields.io/badge/git-%23F05033.svg?style=for-the-badge&logo=git&logoColor=white" width=auto alt=Git>
<img src="https://img.shields.io/badge/heroku-%23430098.svg?style=for-the-badge&logo=heroku&logoColor=white" width=auto alt=Heroku></p><a href=#mots-clés><h2 id=mots-clés><span class=hanchor arialabel=Anchor># </span>Mots clés</h2></a><p>#terraform #devops #cloud #architecture</p><hr><a href=#présentation><h1 id=présentation><span class=hanchor arialabel=Anchor># </span>Présentation</h1></a><p>Terraform est un outil d&rsquo;IAC (Infrastructure As Code), son but est de déclarer une architecture, de l&rsquo;instancier et de la détruire.</p><blockquote><p>⚠️ L&rsquo;outil a pour but de configurer une ARCHITECTURE, pas une machine, pour ça il y a
<a href=https://www.ansible.com/ rel=noopener>Ansible</a>. néanmoins il est commun de coupler les deux, Ansible configurant les machines virtuelles créées par Terraform.</p></blockquote><p>Terraform est très souvent utilisé pour créer des architectures sur un
<a href=https://www.techtarget.com/searchitchannel/definition/cloud-service-provider-cloud-provider rel=noopener>cloud provider</a> tel que AWS et Google Cloud, sur
<a href=https://kubernetes.io/docs/concepts/overview/ rel=noopener>Kubernetes</a>, sur
<a href=https://www.heroku.com/ rel=noopener>Heroku</a> et bien d&rsquo;autres. Dans ce TP nous l&rsquo;utiliserons avec une instance locale de
<a href=https://dokku.com/ rel=noopener>Dokku</a> une alternative gratuite de Heroku et
<a href=https://www.mongodb.com/atlas/database rel=noopener>MongoDB Atlas</a>.</p><a href=#pourquoi-><h2 id=pourquoi-><span class=hanchor arialabel=Anchor># </span>Pourquoi ?</h2></a><p>Les différents modèles de cloud computing (listés ci-dessous) proposent chacun une répartition des responsabilités différentes entre le client et la plateforme, ce qui veut dire que c&rsquo;est le rôle du client d’assurer certaines parties de son architecture.</p><p><img src=/notes/images/cloud_service_models.png width=auto></p><p>Créer une architecture sous forme de code avec Terraform garantit plusieurs choses:</p><ul><li><p><strong>Automatisation des déploiements ⚙️</strong>: L&rsquo;approvisionnement de l&rsquo;infrastructure par les interfaces graphiques ou de scripts Bash est lent, source d&rsquo;erreurs, et
<a href=https://www.suse.com/suse-defines/definition/scalability/ rel=noopener>scale</a> très mal.</p></li><li><p><strong>Des résultats prévisibles et reproductibles 🔭</strong>: le code Terraform est relativement simple (pas de notions de classes, de fonctions etc.) et ne se résume la plupart du temps qu&rsquo;à de la description de ressources.</p></li><li><p><strong>La possibilité de créer mais aussi de détruire 💣</strong>: Terraform utilise <a href=#les-providers rel=noopener class=internal-link data-src></a> qui peuvent chacun créer mais aussi détruire les ressources qu&rsquo;ils ont créé.</p></li><li><p><strong>Une architecture évolutive 🧬</strong>: Terraform est un langage, il existe donc les notions de variables que nous verrons plus tard dans le TP, cela permet de paramétrer l&rsquo;architecture comme on le souhaite en changeant par exemple le mot de passe des bases de données, les régions dans lesquelles seront déployées les ressources etc.</p></li><li><p><strong>La possibilité de versionner son architecture 📦</strong>: Il s&rsquo;agit de loin de <mark style=background:#fff3a3a6>l&rsquo;argument le plus important de l&rsquo;IAC</mark>: vu qu&rsquo;il s&rsquo;agit de code on peut le versionner avec
<a href=https://git-scm.com/ rel=noopener>git</a>,
<a href=https://subversion.apache.org/ rel=noopener>subversion</a> ou autres gestionnaires de version, ce qui permet une grande liberté quant à la gestion de notre architecture.
Faut il changer des network policies ? Faisons un commit l&rsquo;ajoutant. S&rsquo;avère t-il que cet ajout casse notre application ? Vite un <code>git revert</code> !</p></li></ul><p>Pour commencer à travailler avec Terraform, créez un nouveau répertoire avec un fichier ayant l’extension <code>.tf</code> avec ce contenu:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-hcl data-lang=hcl><span class=line><span class=cl><span class=k>terraform</span> {
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>}
</span></span></code></pre></td></tr></table></div></div><p>Lancez <code>terraform init</code> et on peut commencer à utiliser Terraform!</p><a href=#comment-fonctionne-terraform><h2 id=comment-fonctionne-terraform><span class=hanchor arialabel=Anchor># </span>Comment fonctionne Terraform?</h2></a><a href=#la-cli><h3 id=la-cli><span class=hanchor arialabel=Anchor># </span>La CLI</h3></a><p><img src=/notes/images/tf_flow.png width=auto>
La CLI de terraform propose des commandes pour interagir avec son architecture</p><ul><li><code>init</code> -> Crée les fichiers nécessaires pour terraform</li><li><code>plan</code> -> Terraform va exécuter le code HCL des fichiers <code>.tf</code> mais ne va pas faire appel aux providers, cette commande permet d&rsquo;avoir un aperçu des ressources qui seront générées.</li><li><code>apply</code> -> Terraform lance la phase de <code>plan</code> décrite précédemment, après confirmation, les providers s&rsquo;occupent de créer les ressources générées.
Grâce au fichier de state que nous évoquerons plus tard Terraform sera capable de créer les ressources nouvellement déclarées, de mettre à jour celles qui ont changée et de supprimer celles qui ont été supprimées.
Il est possible de forcer la re-création d&rsquo;une ressource avec l&rsquo;option <code>-remplace="&lt;type_de_ressource>.&lt;nom_de_la_ressource>"</code></li><li><code>destroy</code> ->
<a href="https://media1.giphy.com/media/oe33xf3B50fsc/giphy.gif?cid=ecf05e47b61oing7kc29fwjmqsm1dmn6r7v0k3ubl54us292&ep=v1_gifs_search&rid=giphy.gif&ct=g" rel=noopener>&ldquo;I think we all know where this is going&rdquo;</a></li></ul><a href=#les-providers><h3 id=les-providers><span class=hanchor arialabel=Anchor># </span>Les providers</h3></a><p>Terraform en lui même n&rsquo;a aucun idée de comment créer une ressource tel qu&rsquo;un bucket S3, un Ingres Kubernetes, une application sur Heroku/Dokku. Pour créer ces dites ressources il va utiliser des Providers, il s&rsquo;agit concrètement de plugin écrits en go qui vont fournir les <code>ressources</code> que vous voulez créer. Après que Terraform exécute le code HCL (HashiCorp Language) pour carlculer les attributs des ressources, il va laisser le provider faire les appels aux APIs nécessaires à la création de la ressource.</p><p><img src=/notes/images/tf_providers.png width=auto></p><p>Ces providers sont recensés et documentés en ligne sur
<a href=https://registry.terraform.io rel=noopener>https://registry.terraform.io</a>, vous y trouverez pour chacun d&rsquo;entre eux leur documentation.</p><p>Pour ajouter un provider vous avez juste à le déclarer dans le bloc <code>terraform</code>, et de le configurer avec le bloc <code>provider "&lt;nom du provider>"</code>, les options de configurations sont trouvables dans le registre.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-hcl data-lang=hcl><span class=line><span class=cl><span class=k>terraform</span> {
</span></span><span class=line><span class=cl>	<span class=k>required_providers</span> {
</span></span><span class=line><span class=cl><span class=n>		aws</span> <span class=o>=</span> {
</span></span><span class=line><span class=cl><span class=n>			source</span> <span class=o>=</span> <span class=s2>&#34;hashicorp/aws&#34;</span>
</span></span><span class=line><span class=cl><span class=n>			version</span> <span class=o>=</span> <span class=s2>&#34;5.11.0&#34;</span>
</span></span><span class=line><span class=cl>		}
</span></span><span class=line><span class=cl>	}
</span></span><span class=line><span class=cl>}
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>provider</span> <span class=s2>&#34;aws&#34;</span> {<span class=c1>
</span></span></span><span class=line><span class=cl><span class=c1>	# options de configuration 
</span></span></span><span class=line><span class=cl><span class=c1></span>}<span class=c1> 
</span></span></span><span class=line><span class=cl><span class=c1>
</span></span></span><span class=line><span class=cl><span class=c1># et maintenant on peut utiliser les ressources que le provider aws propose ☁️
</span></span></span></code></pre></td></tr></table></div></div><a href=#hcl><h3 id=hcl><span class=hanchor arialabel=Anchor># </span>HCL</h3></a><a href=#les-ressources><h4 id=les-ressources><span class=hanchor arialabel=Anchor># </span>Les ressources</h4></a><p>Les ressources représentent ce qu&rsquo;un provider peut créer, cela peut aller d&rsquo;une machine virtuelle, d&rsquo;une règle réseau, d&rsquo;une politique d&rsquo;IAM etc.</p><p>Une ressource se définit ainsi en HCL.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-hcl data-lang=hcl><span class=line><span class=cl><span class=k>resource</span> <span class=s2>&#34;type_de_ressource&#34; &#34;identifiant_de_ma_ressource&#34;</span> {
</span></span><span class=line><span class=cl><span class=n>	argument</span> <span class=o>=</span> <span class=k>valeur</span><span class=c1>
</span></span></span><span class=line><span class=cl><span class=c1>	# autres arugments mentionnés dans la documentation du provider
</span></span></span><span class=line><span class=cl><span class=c1></span>}
</span></span></code></pre></td></tr></table></div></div><p>Les différents types de ressources sont disponibles grâce aux providers et chaque provider liste ses ressources dans sa documentation. L&rsquo;identifiant lui sert à différencier les ressources d&rsquo;un même type.</p><p>Et c&rsquo;est là où ça commence à être amusant, car ces arguments ont des types d&rsquo;entrées, donc si on a des
<a href=https://developer.hashicorp.com/terraform/language/expressions/type-constraints rel=noopener>types</a> on a des opérations à appliquer dessus 🙃. Et c&rsquo;est là que commence la partie &ldquo;programmation&rdquo; de terraform. Pourquoi ne pas attribuer le résultat d&rsquo;une fonction?</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-hcl data-lang=hcl><span class=line><span class=cl><span class=k>resource</span> <span class=s2>&#34;local_file&#34; &#34;foo&#34;</span> {
</span></span><span class=line><span class=cl><span class=n>  content</span>  <span class=o>=</span> <span class=k>lower</span><span class=p>(</span><span class=s2>&#34;HELLO&#34;</span><span class=p>)</span><span class=c1> 
</span></span></span><span class=line><span class=cl><span class=c1>  #                 👇 oui on parlera des modules plus tard, vous n&#39;avez rien vu 
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>  filename</span> <span class=o>=</span> <span class=s2>&#34;${path.module}/foo.bar&#34;</span><span class=c1>
</span></span></span><span class=line><span class=cl><span class=c1>
</span></span></span><span class=line><span class=cl><span class=c1>  # ah oui, et ${} permet la substitution des variables
</span></span></span><span class=line><span class=cl><span class=c1>  # https://en.wikipedia.org/wiki/String_interpolation
</span></span></span><span class=line><span class=cl><span class=c1></span>}
</span></span></code></pre></td></tr></table></div></div><p>Et pourquoi pas faire référence à la valeur d&rsquo;une propriété appartenant à une autre ressource ? C&rsquo;est possible en l&rsquo;invoquant sous la forme <code>&lt;TYPE DE RESSOURCE>.&lt;NOM>.&lt;ATTRIBUT></code>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-hcl data-lang=hcl><span class=line><span class=cl><span class=k>resource</span> <span class=s2>&#34;aws_vpn_connection&#34; &#34;example_connection&#34;</span> {<span class=c1>
</span></span></span><span class=line><span class=cl><span class=c1>  # ...
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>  transit_gateway_id</span>  <span class=o>=</span> <span class=s2>&#34;donnez_moi_un_tag&#34;</span><span class=c1>
</span></span></span><span class=line><span class=cl><span class=c1>  # ...
</span></span></span><span class=line><span class=cl><span class=c1></span>}
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>resource</span> <span class=s2>&#34;aws_ec2_tag&#34; &#34;example_tag&#34;</span> {
</span></span><span class=line><span class=cl><span class=n>  resource_id</span> <span class=o>=</span> <span class=k>aws_vpn_connection</span><span class=p>.</span><span class=k>example_connection</span><span class=p>.</span><span class=k>transit_gateway_attachment_id</span>
</span></span><span class=line><span class=cl><span class=n>  key</span>         <span class=o>=</span> <span class=s2>&#34;Name&#34;</span>
</span></span><span class=line><span class=cl><span class=n>  value</span>       <span class=o>=</span> <span class=s2>&#34;Hello World&#34;</span>
</span></span><span class=line><span class=cl>}
</span></span></code></pre></td></tr></table></div></div><blockquote><p>💬 Mais cela induit donc une dépendance entre les ressources n&rsquo;est ce pas ?</p></blockquote><p>&ndash; Oui, mais Terraform est assez malin pour le gérer seul! Il est rare que vous ayez à définir le méta-argument <code>depends-on</code> 😉</p><a href=#des-méta-arguments-><h5 id=des-méta-arguments-><span class=hanchor arialabel=Anchor># </span>&ldquo;Des méta-arguments ?&rdquo;</h5></a><p>Hé oui, il existe des arguments communs à tous les bloc ressources, peu importe leur provenance qui vont modifier le comportement des ressources,
<a href=https://developer.hashicorp.com/terraform/language/meta-arguments/depends_on rel=noopener>la doc</a> évoque ces derniers mais ceux qui vont nous intéresser sont <code>for_each</code> et <code>count</code>.</p><p>Concrètement ces deux là ont un objectif commun: créer plusieurs instance d&rsquo;une ressource, mais ils le font différemment. <code>count</code> lui créée bêtement des copies conformes de la ressource en question en leur ajoutant un compteur, <code>for_each</code> lui prend une collection de <code>string</code> une <code>map</code> ou un <code>objet</code> et peut attribuer les clés et valeurs de ce dernier aux copies</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-hcl data-lang=hcl><span class=line><span class=cl><span class=k>resource</span> <span class=s2>&#34;local_file&#34; &#34;foocount&#34;</span> {
</span></span><span class=line><span class=cl><span class=n>  count</span>    <span class=o>=</span> <span class=m>2</span><span class=c1> # Nombre de copies
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>  content</span>  <span class=o>=</span> <span class=s2>&#34;Je suis la copie n°${count.index}&#34;</span> 
</span></span><span class=line><span class=cl>  <span class=n>filename</span> <span class=o>=</span> <span class=s2>&#34;${path.module}/copie${count.index}.txt&#34;</span><span class=c1>
</span></span></span><span class=line><span class=cl><span class=c1>  
</span></span></span><span class=line><span class=cl><span class=c1>  # copie1.txt =&gt; &#34;Je suis la copie n°1&#34; 
</span></span></span><span class=line><span class=cl><span class=c1>  # copie2.txt =&gt; &#34;Je suis la copie n°2&#34; 
</span></span></span><span class=line><span class=cl><span class=c1></span>}
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>resource</span> <span class=s2>&#34;local_file&#34; &#34;bareach&#34;</span> {
</span></span><span class=line><span class=cl><span class=n>  for_each</span> <span class=o>=</span> <span class=k>toset</span><span class=p>([</span><span class=s2>&#34;bar1&#34;, &#34;bar2&#34;</span><span class=p>])</span>
</span></span><span class=line><span class=cl><span class=n>  content</span>  <span class=o>=</span> <span class=s2>&#34;je suis le fichier ${each.key}&#34;</span>
</span></span><span class=line><span class=cl><span class=n>  filename</span> <span class=o>=</span> <span class=s2>&#34;${path.module}/${each.key}.txt&#34;</span><span class=c1>
</span></span></span><span class=line><span class=cl><span class=c1>  
</span></span></span><span class=line><span class=cl><span class=c1>  # bar1.txt =&gt; bar1
</span></span></span><span class=line><span class=cl><span class=c1>  # bar2.txt =&gt; bar2
</span></span></span><span class=line><span class=cl><span class=c1></span>}
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>resource</span> <span class=s2>&#34;local_file&#34; &#34;totoeach&#34;</span> {
</span></span><span class=line><span class=cl><span class=n>  for_each</span> <span class=o>=</span> {
</span></span><span class=line><span class=cl><span class=n>      tick</span> <span class=o>=</span> <span class=s2>&#34;tock&#34;</span>
</span></span><span class=line><span class=cl><span class=n>      ding</span> <span class=o>=</span> <span class=s2>&#34;dong&#34;</span>
</span></span><span class=line><span class=cl>  }
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>  content</span>  <span class=o>=</span> <span class=k>each</span><span class=p>.</span><span class=k>value</span>
</span></span><span class=line><span class=cl><span class=n>  filename</span> <span class=o>=</span> <span class=s2>&#34;${path.module}/${each.key}.txt&#34;</span><span class=c1>
</span></span></span><span class=line><span class=cl><span class=c1>
</span></span></span><span class=line><span class=cl><span class=c1>  # tick.txt =&gt; tock
</span></span></span><span class=line><span class=cl><span class=c1>  # ding.txt =&gt; dong
</span></span></span><span class=line><span class=cl><span class=c1></span>}
</span></span></code></pre></td></tr></table></div></div><p>On utilise donc <code>count</code> pour créer des copies conformes et <code>for_each</code> pour des copies avec des variantes.</p><a href=#les-variables><h4 id=les-variables><span class=hanchor arialabel=Anchor># </span>Les variables</h4></a><p>Tout bon langage de programmation qui se respecte intègre un système de variables, c&rsquo;est le cas de Terraform qui intègre le bloc variable</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-hcl data-lang=hcl><span class=line><span class=cl><span class=k>variable</span> <span class=s2>&#34;nom_de_ma_variable&#34;</span> {
</span></span><span class=line><span class=cl><span class=n>  description</span> <span class=o>=</span> <span class=s2>&#34;une string pour décrire la variable (optionnel)&#34;</span>
</span></span><span class=line><span class=cl><span class=n>  type</span>        <span class=o>=</span> <span class=k>type</span><span class=c1> # le type de votre variable 
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>  default</span>     <span class=o>=</span> <span class=s2>&#34;Une valeur par défaut (optionnel)&#34;</span>
</span></span><span class=line><span class=cl><span class=n>  sensitive</span>   <span class=o>=</span> <span class=kt>false</span><span class=c1> # n&#39;affiche pas la variable sur la sortie standart
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>  nullable</span>    <span class=o>=</span> <span class=kt>false</span><span class=c1> # est ce que la variable à le droit d&#39;être nulle
</span></span></span><span class=line><span class=cl><span class=c1></span>  
</span></span><span class=line><span class=cl>  <span class=k>validation</span> {<span class=c1> # ce bloc stoppe l’exécution du code si la condition donnée n&#39;est pas remplie.
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>    condition</span>     <span class=o>=</span><span class=c1> # mettez ici une expression évaluée à true ou false
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>    error_message</span> <span class=o>=</span> <span class=s2>&#34;Un message d&#39;erreur&#34;</span>
</span></span><span class=line><span class=cl>  }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></td></tr></table></div></div><p>Ces variables sont plus à voir comme des inputs constant que l&rsquo;utilisateur donnerait sur une ligne de commande dans le sens ou ces dernières ne peuvent être ré-assignées.</p><p>Pour renseigner ces variables on à trois manières de faire:</p><ul><li><strong>La ligne de commande</strong> : avec l&rsquo;option var <code>terraform apply -var="nom_de_ma_variable=ma_valeur"</code></li><li><strong>Les variables d&rsquo;environnement</strong>: En exportant une variable d&rsquo;environnement préfixée par <code>TF_VAR_</code>, ex: <code>TF_VAR_myvar="value"</code></li><li><strong>Le fichier .tfvars</strong>: créez un fichier finissant par l’extension .tfvars et précisez le avec l&rsquo;option CLI <code>-var-file</code>, dans ce dernier affectez les valeurs (pas besoin si le fichier s&rsquo;appelle terraform.tfvars),</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-hcl data-lang=hcl><span class=line><span class=cl><span class=n>mosse</span> <span class=o>=</span> <span class=s2>&#34;Moose&#34;</span>
</span></span><span class=line><span class=cl><span class=n>goose</span> <span class=o>=</span> <span class=m>12</span>
</span></span><span class=line><span class=cl><span class=n>beef</span> <span class=o>=</span> {
</span></span><span class=line><span class=cl><span class=n>	grilled</span> <span class=o>=</span> <span class=kt>true</span>
</span></span><span class=line><span class=cl>}
</span></span></code></pre></td></tr></table></div></div><blockquote><p>⚠️ Pensez à ne pas commit ce fichier, penser à l&rsquo;ignorer avec un <code>.gitignore</code> par exemple</p></blockquote><p>On peut donc utiliser ces variables dans notre code HCL avec <code>var.nom_de_ma_variable</code></p><blockquote><p>📖 Avec la myriade d&rsquo;expréssions et d&rsquo;opérations disponibles sur les types, il est plus pertinent d&rsquo;aller les regarder par vous même dans
<a href=https://developer.hashicorp.com/terraform/language/expressions rel=noopener>la documentation à se sujet</a></p></blockquote><a href=#les-sources-de-données><h4 id=les-sources-de-données><span class=hanchor arialabel=Anchor># </span>Les sources de données</h4></a><p>Parfois vous aurez besoin de données relatives à une ressource qui n&rsquo;est disponible à sa création, par exemple la date de création d&rsquo;une ressource, les providers proposent en plus des ressources des bloc <code>data</code> qui servent justement à accéder à ce genre de données.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-hcl data-lang=hcl><span class=line><span class=cl><span class=k>data</span> <span class=s2>&#34;type&#34; &#34;nom&#34;</span> {
</span></span><span class=line><span class=cl><span class=n>	contrainte_une</span>  <span class=o>=</span> <span class=kt>true</span>
</span></span><span class=line><span class=cl><span class=n>	contrainte_deux</span> <span class=o>=</span> <span class=s2>&#34;value&#34;</span><span class=c1>
</span></span></span><span class=line><span class=cl><span class=c1>	# autres contraintes
</span></span></span><span class=line><span class=cl><span class=c1></span>}
</span></span></code></pre></td></tr></table></div></div><p>Dans ce type de bloc (tout aussi bien documenté) les arguments données sont des contraintes que la donnée doit respecter pour qu&rsquo;elle soit retournée tout comme le feraient la clause <code>WHERE</code> et <code>HAVING</code> en SQL. Et tout comme les ressources, elles sont identifiées par le couple type/nom et ont des propriété accessibles avec <code>&lt;type_de_data>.&lt;nom>.&lt;attribut></code></p><a href=#les-modules><h3 id=les-modules><span class=hanchor arialabel=Anchor># </span>Les modules</h3></a><p><img src=/notes/images/tf_modules.svg width=auto>
Un projet Terraform est doté de modules, les modules sont des ensembles de fichiers Terraform qui prennent des variables en entrée et qui renvoie des variables de sorties, ils peuvent aussi bien provenir du registre terraform, de git ou encore de sous-répertoires.</p><p>On définit les variables d&rsquo;entrées comme le chapitre <a href=#les-variables rel=noopener class=internal-link data-src></a> (sans les initialiser!), les valeurs de sortie elle sont définies grâce au mot clé <code>output</code>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-hcl data-lang=hcl><span class=line><span class=cl><span class=k>output</span> <span class=s2>&#34;db_password&#34;</span> {
</span></span><span class=line><span class=cl><span class=n>  value</span>       <span class=o>=</span><span class=c1> # Mettez ici la valeur retournée
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>  description</span> <span class=o>=</span> <span class=s2>&#34;Mettez ici une description de l&#39;output&#34;</span>
</span></span><span class=line><span class=cl><span class=n>  sensitive</span>   <span class=o>=</span> <span class=kt>true</span><span class=c1> # déffini si elle sera affichée dans la console
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>  <span class=k>precondition</span> {
</span></span><span class=line><span class=cl><span class=n>	  condition</span> <span class=o>=</span><span class=c1> # mettez ici une expression évaluée à true ou false
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>	  error_message</span> <span class=o>=</span> <span class=s2>&#34;un message d&#39;erreur&#34;</span>
</span></span><span class=line><span class=cl>  }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></td></tr></table></div></div><p>Le bloc <code>précondition</code> stoppe l’exécution du code si la condition donnée n&rsquo;est pas remplie.</p><p>Pour importer et utiliser un module on utilise le mot clé <code>module</code>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-hcl data-lang=hcl><span class=line><span class=cl><span class=k>module</span> <span class=s2>&#34;mon_module&#34;</span> {
</span></span><span class=line><span class=cl><span class=n>  source</span>  <span class=o>=</span> <span class=s2>&#34;source&#34;</span><span class=c1> # https://developer.hashicorp.com/terraform/language/modules/sources
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>  version</span> <span class=o>=</span> <span class=s2>&#34;X.X.X&#34;</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=n>variable_une</span> <span class=o>=</span> <span class=s2>&#34;valeur 1&#34;</span>
</span></span><span class=line><span class=cl><span class=n>  variable_deux</span> <span class=o>=</span> <span class=kt>true</span>
</span></span><span class=line><span class=cl><span class=n>  variable_trois</span> <span class=o>=</span> <span class=k>type</span><span class=p>.</span><span class=k>nom</span><span class=p>.</span><span class=k>attribut</span><span class=c1>
</span></span></span><span class=line><span class=cl><span class=c1>  # le reste des variables définies par le module
</span></span></span><span class=line><span class=cl><span class=c1></span>}
</span></span></code></pre></td></tr></table></div></div><p>Comme vous avez du le deviner on peut accéder aux valeurs <code>output</code> avec <code>&lt;nom_du_module>.&lt;nom_de_la_valeur_output></code>.</p><a href=#le-state><h3 id=le-state><span class=hanchor arialabel=Anchor># </span>Le state</h3></a><blockquote><p>ℹ️ Bien que cette partie ne sera pas évoquée dans le TP, cette notion reste importante, surtout pour le travail en équipe</p></blockquote><a href=#quest-ce-que-cest-><h4 id=quest-ce-que-cest-><span class=hanchor arialabel=Anchor># </span>Qu&rsquo;est ce que c&rsquo;est ?</h4></a><p>Terraform n&rsquo;a pas de moyen de vérifier l&rsquo;état de l&rsquo;architecture en temps réel avec les providers, quand lancez <code>terraform apply</code> un fichier <code>.tfstate</code> va être écrit et mis a jour.</p><p><mark style=background:#ff5582a6>Ce fichier contient l&rsquo;ENTIÈRETÉ de l&rsquo;état actuel de l&rsquo;architecture y compris toutes les variables et autres données sensibles en clair, donc par pitié ne le comittez pas.</mark></p><p>Hé oui! si Terraform sait quelles ressources il doit modifier et les quelles il doit créer/supprimer c&rsquo;est en comparant la sortie du code HCL et ce qui il y a dans ce state.</p><a href=#problématiques><h4 id=problématiques><span class=hanchor arialabel=Anchor># </span>Problématiques</h4></a><blockquote><p>💬 Mais donc si je le supprime par pur accident, Terraform ne pourra plus savoir où il en est !
De plus si on est plusieurs dans mon équipe à faire des <code>apply</code> comment on peut garantir la cohérence entre nos states</p></blockquote><p>On peut répondre à ces deux problématiques avec la décentralisation du state grâce au bloc <code>backend</code>.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-hcl data-lang=hcl><span class=line><span class=cl><span class=k>terraform</span> {
</span></span><span class=line><span class=cl>  <span class=k>backend</span> <span class=s2>&#34;&lt;type&gt;&#34;</span> {<span class=c1>
</span></span></span><span class=line><span class=cl><span class=c1>    #...
</span></span></span><span class=line><span class=cl><span class=c1></span>  }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></td></tr></table></div></div><p>Un <code>backend</code> désigne la manière dont sera stocké le fichier state, il est donc totalement possible de le mettre dans une base de données et d&rsquo;utiliser les commandes de
<a href=https://developer.hashicorp.com/terraform/cli/state/recover rel=noopener>push et de pull</a> pour récupérer et mettre à jour le state, il existe une
<a href=https://developer.hashicorp.com/terraform/language/settings/backends/configuration rel=noopener>dizaine de backends disponibles</a> allant de la base de données PostgreSQL au bucket S3, c&rsquo;est à vous de voir.</p><p><img src=/notes/images/tf_backend.png width=auto></p><hr><a href=#le-tp><h1 id=le-tp><span class=hanchor arialabel=Anchor># </span>Le TP</h1></a><a href=#préparer-le-tp><h2 id=préparer-le-tp><span class=hanchor arialabel=Anchor># </span>Préparer le TP</h2></a><ol><li>Installez terraform:
<a href=https://developer.hashicorp.com/terraform/tutorials/aws-get-started/install-cli rel=noopener>https://developer.hashicorp.com/terraform/tutorials/aws-get-started/install-cli</a></li><li>Installez Dokku:
<a href=https://dokku.com/docs/getting-started/installation/ rel=noopener>https://dokku.com/docs/getting-started/installation/</a></li><li>Assurez vous d&rsquo;avoir python 3.10 ou plus récent</li><li>Clonez le répo du projet</li></ol></article><hr><div class=page-end id=footer><div class=backlinks-container><h3>Backlinks</h3><ul class=backlinks><li>No backlinks found</li></ul></div><div><script src=https://cdn.jsdelivr.net/npm/d3@6.7.0/dist/d3.min.js integrity="sha256-+7jaYCp29O1JusNWHaYtgUn6EhuP0VaFuswhNV06MyI=" crossorigin=anonymous></script><h3>Interactive Graph</h3><div id=graph-container></div><style>:root{--g-node:var(--secondary);--g-node-active:var(--primary);--g-node-inactive:var(--visited);--g-link:var(--outlinegray);--g-link-active:#5a7282}</style><script src=https://devops.yann-pomie.fr/js/graph.6579af7b10c818dbd2ca038702db0224.js></script></div></div><div id=contact_buttons><footer><p>Made by Yann POMIE using <a href=https://github.com/jackyzha0/quartz>Quartz</a>, © 2023</p><ul><li><a href=https://devops.yann-pomie.fr/>Home</a></li><li><a href=https://yann-pomie.fr>Portfolio</a></li><li><a href=https://github.com/WoodenMaiden>GitHub</a></li></ul></footer></div></div></body></html>